#!/bin/bash

# μ νλΈ ν¬λ΅¤λ¬ μ‹¤ν–‰ μ¤ν¬λ¦½νΈ

echo "π¥ μ νλΈ ν¬λ΅¤λ¬ λ° λ°μ΄ν„° μ •λ¦¬ μ„λΉ„μ¤"
echo "=================================="

# Python κ°€μƒν™κ²½ ν™•μΈ
if [ -d "venv" ]; then
    echo "π“¦ κ°€μƒν™κ²½μ„ ν™μ„±ν™”ν•©λ‹λ‹¤..."
    source venv/bin/activate
fi

# ν•„μ”ν• ν¨ν‚¤μ§€ μ„¤μΉ ν™•μΈ
echo "π”§ ν•„μ”ν• ν¨ν‚¤μ§€λ¥Ό ν™•μΈν•©λ‹λ‹¤..."
pip install -r requirements.txt

# μ‹¤ν–‰ λ°©λ²• μ„ νƒ
echo ""
echo "μ‹¤ν–‰ λ°©λ²•μ„ μ„ νƒν•μ„Έμ”:"
echo "1. μ›Ή μΈν„°νμ΄μ¤ (κ¶μ¥)"
echo "2. λ…λ Ήμ¤„ μΈν„°νμ΄μ¤"
echo "3. μΆ…λ£"
echo ""
read -p "μ„ νƒ (1-3): " choice

case $choice in
    1)
        echo "π μ›Ή μΈν„°νμ΄μ¤λ¥Ό μ‹μ‘ν•©λ‹λ‹¤..."
        echo "λΈλΌμ°μ €μ—μ„ http://localhost:8501 λ΅ μ ‘μ†ν•μ„Έμ”."
        streamlit run app.py
        ;;
    2)
        echo "π’» λ…λ Ήμ¤„ μΈν„°νμ΄μ¤λ¥Ό μ‹μ‘ν•©λ‹λ‹¤..."
        python main.py
        ;;
    3)
        echo "π‘‹ μΆ…λ£ν•©λ‹λ‹¤."
        exit 0
        ;;
    *)
        echo "β μλ»λ μ„ νƒμ…λ‹λ‹¤."
        exit 1
        ;;
esac 